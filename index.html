<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Weekly Weight Loss Plan – 1500 kcal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://cdn.jsdelivr.net/npm/mustache@4.2.0/mustache.min.js"></script>
  <style>
    /* Global layout / typography */
    html {
      scroll-behavior: smooth;
      /* Reserve space for sticky header when scrolling to anchors */
      scroll-padding-top: 80px;
    }
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      margin: 0;
      padding: 0;
      background: radial-gradient(circle at top, #1f2937 0, #020617 55%);
      color: #e5e7eb;
      line-height: 1.6;
    }
    header {
      background: linear-gradient(to right, #020617, #0f172a, #111827);
      padding: 16px 24px;
      border-bottom: 1px solid #1f2937;
      position: sticky;
      top: 0;
      z-index: 10;
      backdrop-filter: blur(10px);
    }
    header h1 {
      margin: 0 0 4px 0;
      font-size: 1.4rem;
      letter-spacing: 0.03em;
    }
    header p {
      margin: 0;
      font-size: 0.9rem;
      color: #9ca3af;
    }
    nav {
      margin-top: 8px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    nav a {
      font-size: 0.85rem;
      text-decoration: none;
      color: #e5e7eb;
      background: #020617;
      border-radius: 999px;
      padding: 4px 10px;
      border: 1px solid #374151;
      box-shadow: 0 0 0 1px rgba(15,23,42,0.7);
    }
    nav a:hover {
      background: #111827;
    }
    main {
      padding: 24px;
      max-width: 1000px;
      margin: 0 auto 48px auto;
    }
    h2 {
      margin-top: 32px;
      border-bottom: 1px solid #374151;
      padding-bottom: 4px;
      font-size: 1.2rem;
      scroll-margin-top: 90px; /* so anchors stop below header */
    }
    h3 {
      margin-top: 20px;
      font-size: 1rem;
      color: #f9fafb;
      scroll-margin-top: 90px;
    }
    h4 {
      margin-top: 10px;
      font-size: 0.95rem;
      color: #e5e7eb;
    }
    section.card {
      background: rgba(2,6,23,0.96);
      border-radius: 16px;
      padding: 18px 20px;
      margin-bottom: 18px;
      border: 1px solid #1f2937;
      box-shadow: 0 18px 45px rgba(0,0,0,0.55);
    }
    .grid-2 {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 16px;
    }
    ul {
      padding-left: 18px;
    }
    li {
      margin-bottom: 4px;
    }

    /* Table styling */
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 8px;
      font-size: 0.85rem;
      overflow: hidden;
      border-radius: 12px;
    }
    th, td {
      border: 1px solid #1f2937;
      padding: 6px 8px;
      vertical-align: top;
    }
    th {
      background: #020617;
      color: #e5e7eb;
    }
    th.sticky-col {
      position: sticky;
      left: 0;
      background: #020617;
      z-index: 1;
    }
    tr:nth-child(even) td {
      background: #020617;
    }
    .today-col {
      background: #0b1120 !important;
      box-shadow: inset 0 0 0 1px #2563eb;
    }
    .today-header {
      background: #111827 !important;
      box-shadow: inset 0 -2px 0 #2563eb;
    }

    .kcal {
      font-size: 0.8rem;
      color: #9ca3af;
    }

    /* Calendar view toggles */
    .desktop-calendar {
      display: block;
    }
    .mobile-calendar {
      display: none;
    }

    /* Mobile layout */
    @media (max-width: 768px) {
      main {
        padding: 16px;
      }
      .desktop-calendar {
        display: none;
      }
      .mobile-calendar {
        display: block;
      }
    }

    .mobile-day-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      margin-bottom: 8px;
    }
    .mobile-day-title {
      font-size: 1.1rem;
      font-weight: 600;
    }
    .mobile-day-nav button {
      background: #020617;
      color: #e5e7eb;
      border-radius: 999px;
      border: 1px solid #374151;
      padding: 4px 10px;
      font-size: 0.85rem;
      cursor: pointer;
    }
    .mobile-day-nav button:hover {
      background: #1f2937;
    }

    details {
      background: #020617;
      border-radius: 10px;
      border: 1px solid #1f2937;
      margin-bottom: 8px;
      padding: 6px 10px;
      transition: background 0.15s ease;
    }
    details[open] {
      background: #020617;
    }
    details summary {
      cursor: pointer;
      list-style: none;
      font-weight: 500;
      font-size: 0.95rem;
    }
    details summary::-webkit-details-marker {
      display: none;
    }
    details summary::after {
      content: "▾";
      float: right;
      font-size: 0.7rem;
      color: #9ca3af;
      margin-left: 6px;
    }
    details[open] summary::after {
      content: "▴";
    }
    details p, details ul {
      margin-top: 4px;
      font-size: 0.9rem;
    }
    a {
      color: #60a5fa;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
<header>
  <h1>Weekly Weight Loss Plan – 1500 kcal Target</h1>
  <p>Structured meals, alternating lunches, and basement-friendly workouts.</p>
  <nav>
    <a href="#calendar">Weekly Calendar</a>
    <a href="#recipes-breakfast">Breakfasts</a>
    <a href="#recipes-lunch">Lunches</a>
    <a href="#recipes-dinner">Dinners</a>
    <a href="#snacks">Snacks</a>
    <a href="#workouts">Workout Plan</a>
  </nav>
</header>

<main>
  <!-- OVERVIEW -->
  <section class="card">
    <h2 id="overview">Overview</h2>
    <p>
      Target for Chris: <strong>~1800 kcal/day</strong><br>
      Target for Jill: <strong>~1500 kcal/day</strong> with high protein and
      structured days. Two different lunch batches are made on Sunday and then
      alternated through the week.
    </p>
    <p>Rough daily structure:</p>
    <ul>
      <li><strong>Breakfast:</strong> ~350 kcal</li>
      <li><strong>Lunch:</strong> ~400–430 kcal</li>
      <li><strong>Dinner:</strong> ~450–520 kcal</li>
      <li><strong>Snacks:</strong> ~200–250 kcal</li>
    </ul>
  </section>

  <!-- WEEKLY CALENDAR -->
  <section class="card" id="calendar">
    <h2>Weekly Calendar (Meals + Workouts)</h2>
    <p class="kcal">
      B1 = Banana Protein Shake • B2 = Warm Protein Oats • B3 = Greek Yogurt Power Bowl<br/>
      L1 = Turkey Enchilada Skillet Bowl • L2 = Mediterranean Lentil Bowl
    </p>

    <!-- Desktop / tablet calendar -->
    <div class="desktop-calendar">
      <table id="desktopCalendar">
        <thead>
          <!-- Filled by plan.js via Mustache -->
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <!-- Mobile single-day view -->
    <div class="mobile-calendar">
      <div class="mobile-day-header">
        <div class="mobile-day-title" id="mobileDayTitle">Monday</div>
        <div class="mobile-day-nav">
          <button id="prevDayBtn">&lt; Prev</button>
          <button id="nextDayBtn">Next &gt;</button>
        </div>
      </div>
      <div id="mobileDayContent">
        <!-- Filled by plan.js -->
      </div>
    </div>
  </section>

  <!-- BREAKFASTS -->
  <section class="card" id="recipes-breakfast">
  <h2>Breakfasts</h2>
  <div id="breakfastList"></div>
</section>

<script id="breakfast-template" type="x-tmpl-mustache">
  {{#breakfasts}}
    <h3 id="{{id}}">{{title}}</h3>
    <p class="kcal">{{kcal}}</p>
    <ul>
      {{#ingredients}}
        <li>{{.}}</li>
      {{/ingredients}}
    </ul>
    <ol>
      {{#steps}}
        <li>{{.}}</li>
      {{/steps}}
    </ol>
  {{/breakfasts}}
</script>


  <!-- LUNCHES -->
  <section class="card" id="recipes-lunch">
  <h2>Lunches</h2>
  <div id="lunchList"></div>
</section>

<script id="lunch-template" type="x-tmpl-mustache">
  {{#lunches}}
    <h3 id="{{id}}">{{title}}</h3>
    <p class="kcal">{{kcal}}</p>
    <ul>
      {{#ingredients}}
        <li>{{.}}</li>
      {{/ingredients}}
    </ul>
    <ol>
      {{#steps}}
        <li>{{.}}</li>
      {{/steps}}
    </ol>
  {{/lunches}}
</script>


  <!-- DINNERS -->
  <section class="card" id="recipes-dinner">
  <h2>Dinners</h2>
  <div id="dinnerList"></div>
</section>

<script id="dinner-template" type="x-tmpl-mustache">
  {{#dinners}}
    <h3 id="{{id}}">{{title}}</h3>
    <p class="kcal">{{kcal}}</p>
    <ul>
      {{#ingredients}}
        <li>{{.}}</li>
      {{/ingredients}}
    </ul>
    <ol>
      {{#steps}}
        <li>{{.}}</li>
      {{/steps}}
    </ol>
  {{/dinners}}
</script>


  <!-- SNACKS -->
  <section class="card" id="snacks">
    <h2>Snack Options</h2>
    <div id="snacksList"></div>
  </section>

  <script id="snacks-template" type="x-tmpl-mustache">
    <p>{{intro}}</p>
    <ul>
      {{#items}}
        <li>{{.}}</li>
      {{/items}}
    </ul>
  </script>


  <!-- GROCERY LIST -->
<section class="card" id="grocery">
  <h2>Grocery List</h2>
  <p>Auto-generated from this week's meals.</p>

  <div style="display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px;">
    <button onclick="copyGroceryList()"
            style="background:#2563eb;color:white;border:0;
                   padding:6px 14px;border-radius:8px;
                   cursor:pointer;">
      Copy to Reminders
    </button>
    <button onclick="downloadGroceryList()"
            style="background:#0ea5e9;color:white;border:0;
                   padding:6px 14px;border-radius:8px;
                   cursor:pointer;">
      Download as .txt
    </button>
  </div>
  <p style="margin-top:0;font-size:0.9rem;color:#cbd5e1;">
    Each line will paste as its own reminder. The download gives you a plain text file
    you can drag into Reminders if copy/paste is blocked.
  </p>

  <pre id="groceryText" style="
      white-space: pre-wrap;
      font-size: 0.9rem;
      line-height: 1.4;
      padding: 12px;
      background:#0b1120;
      border-radius:12px;
      border:1px solid #1f2937;
  "></pre>
</section>


  <!-- WORKOUTS -->
  <section class="card" id="workouts">
    <h2>Workout Plan (Basement Setup)</h2>
    <p>
      Goal: ~30 min mornings, with optional 10–15 min evenings (except busy nights Wed & Fri).
      You have a treadmill, dumbbells, bench + bar, and a floor mat. Often:
      <strong>Person A = treadmill</strong> while <strong>Person B = core/dumbbells</strong>, then swap.
    </p>

    <h3>Standard AM Structure (30 min)</h3>
    <ul>
      <li><strong>5 min:</strong> Warm-up walk on treadmill.</li>
      <li><strong>15 min:</strong> Strength block (upper or lower focus).</li>
      <li><strong>10 min:</strong> Cardio block on treadmill.</li>
    </ul>

    <h3>Example Strength Blocks</h3>
    <h4>Lower Body (Mon/Thu)</h4>
    <ul>
      <li>Goblet squats (dumbbell)</li>
      <li>Romanian deadlifts (dumbbells or bar)</li>
      <li>Reverse lunges or split squats</li>
      <li>Glute bridges or hip thrusts (on bench)</li>
    </ul>
    <p class="kcal">
      2–3 sets of 8–12 reps each. While one person lifts, the other walks at a brisk pace, then swap.
    </p>

    <h4>Upper Body (Tue/Fri)</h4>
    <ul>
      <li>Bench press or floor press</li>
      <li>One-arm dumbbell rows</li>
      <li>Dumbbell shoulder presses</li>
      <li>Biceps curls + triceps extensions</li>
    </ul>
    <p class="kcal">Same structure: 2–3 sets of 8–12 reps per movement.</p>

    <h4>Full Body / Mixed (Wed/Sat)</h4>
    <ul>
      <li>Dumbbell squats</li>
      <li>Dumbbell rows</li>
      <li>Push-ups (bench or floor)</li>
      <li>Hip hinge (RDL) or deadlift variation</li>
    </ul>

    <h3>Core Block (10–15 min)</h3>
    <p>Pick 4–5 moves and cycle through for 2–3 rounds:</p>
    <ul>
      <li>Dead bugs</li>
      <li>Planks (front/side)</li>
      <li>Bird-dogs</li>
      <li>Glute bridges</li>
      <li>Leg lowers or marches</li>
    </ul>
    <p>
      While one person is doing this circuit, the other can do a 10–15 min treadmill block,
      then swap roles.
    </p>

    <h3>Cardio Blocks</h3>
    <ul>
      <li><strong>Easy/Moderate:</strong> 10 min at a pace where talking is possible but not effortless.</li>
      <li><strong>Intervals (Sat example):</strong> 1 min faster / 2 min easy, repeat 4–5 times.</li>
    </ul>

    <h3>Weekly Workout Summary</h3>
    <table>
      <thead>
        <tr>
          <th>Day</th>
          <th>AM</th>
          <th>PM</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Mon</td>
          <td>Lower + treadmill</td>
          <td>Optional core (10–15 min)</td>
        </tr>
        <tr>
          <td>Tue</td>
          <td>Upper + treadmill</td>
          <td>Optional easy walk/mobility</td>
        </tr>
        <tr>
          <td>Wed</td>
          <td>Full body + core (30 min only)</td>
          <td>Rest (busy)</td>
        </tr>
        <tr>
          <td>Thu</td>
          <td>Lower + treadmill intervals</td>
          <td>Optional core</td>
        </tr>
        <tr>
          <td>Fri</td>
          <td>Upper + light treadmill</td>
          <td>Rest (busy)</td>
        </tr>
        <tr>
          <td>Sat</td>
          <td>Treadmill intervals + longer core</td>
          <td>Optional family walk</td>
        </tr>
        <tr>
          <td>Sun</td>
          <td>Easy walk + light core/mobility</td>
          <td>Rest + meal prep</td>
        </tr>
      </tbody>
    </table>
  </section>
</main>

<script id="desktop-calendar-head-template" type="x-tmpl-mustache">
  <tr>
    <th class="sticky-col">Item</th>
    {{#days}}
    <th>{{name}}</th>
    {{/days}}
  </tr>
</script>

<script id="desktop-calendar-body-template" type="x-tmpl-mustache">
  {{#rows}}
  <tr>
    <th class="sticky-col">{{label}}</th>
    {{#cells}}
    <td>{{{.}}}</td>
    {{/cells}}
  </tr>
  {{/rows}}
</script>

<script id="mobile-day-template" type="x-tmpl-mustache">
  <details open>
    <summary>Breakfast</summary>
    <p>{{{breakfast}}}</p>
  </details>
  <details>
    <summary>Lunch</summary>
    <p>{{{lunch}}}</p>
  </details>
  <details>
    <summary>Dinner</summary>
    <p>{{{dinner}}}</p>
  </details>
  <details>
    <summary>Snacks</summary>
    <p>{{snacks}}</p>
  </details>
  <details>
    <summary>AM Workout</summary>
    <p>{{am}} <br><a href="#workouts">See workout plan</a></p>
  </details>
  <details>
    <summary>PM / Extra</summary>
    <p>{{pm}} <br><a href="#workouts">See workout plan</a></p>
  </details>
</script>

<!-- Data + calendar logic -->
<script src="plan.js"></script>
</body>
</html>
